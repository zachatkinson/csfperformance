{{ 'blaze.css' | asset_url | stylesheet_tag }}
<div class="color-{{ section.settings.color_scheme }}">
    <div class="{% if section.settings.include_margins %}page-width{% endif %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
      {% if section.settings.heading %}
        <h2 style="text-align: center;">{{ section.settings.heading }}</h2>
      {% endif %}
      <div class="blaze-slider">
        <div class="blaze-container">
          <div class="blaze-track-container">
            <div class="blaze-track">
              {% for block in section.blocks %}
                {% assign link = '#' %}
                  {% if block.settings['logo-link'] %}
                    {% assign link = block.settings['logo-link'] %}
                  {% endif %}
                <div>
                  <a href="{{ link }}" class="blaze-slide">
                    <img src="{{ block.settings.image | img_url: '200x200' }}" alt="{{ block.settings.image.alt }}">
                  </a>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
{{ 'blaze-slider.js' | asset_url | script_tag }}
<script>
  const el = document.querySelector('.blaze-slider')
  new BlazeSlider(el, {
    all: {
      enableAutoplay: {{section.settings.autoplay | json }},
      autoplayInterval: 6000,
      transitionDuration: 300,
      slidesToShow: 3,
      slideGap: '50px'
    },
    '(max-width: 768px)': {
      slidesToShow: 2,
    },
    '(min-width: 1200px)': {
      slidesToShow: 4,
    },
  })
</script>
{% schema %}
{
  "name": "t:sections.feat-logo.name",
  "settings": [
    {
      "type": "checkbox",
      "id": "include_margins",
      "default": true,
      "label": "t:sections.feat-logo.settings.include_margins.label"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "default": true,
      "label": "t:sections.feat-logo.settings.autoplay.label"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "info": "t:sections.feat-logo.settings.color_scheme.info",
      "default": "scheme-1"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "t:sections.feat-logo.settings.heading.label"
    }
  ],
  "presets": [
    {
      "name": "Featured Logos"
    }
  ],
  "blocks": [
    {
      "name": "Logo Link",
      "type": "feat-logo",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "t:sections.feat-logo.settings.link.label",
          "default": "t:sections.feat-logo.settings.link.default"
        },
        {
          "type": "text",
          "id": "logo-link-alt-text",
          "label": "Alt Text"
        }
      ]
    }
  ]

}
{% endschema %}
{% stylesheet %}
{% endstylesheet %}
{% javascript %}

{% endjavascript %}